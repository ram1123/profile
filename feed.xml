<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en"><generator uri="https://jekyllrb.com/" version="4.3.3">Jekyll</generator><link href="https://ram1123.github.io/feed.xml" rel="self" type="application/atom+xml"/><link href="https://ram1123.github.io/" rel="alternate" type="text/html" hreflang="en"/><updated>2024-04-20T19:59:06+00:00</updated><id>https://ram1123.github.io/feed.xml</id><title type="html">blank</title><subtitle>A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design. </subtitle><entry><title type="html">VS Code</title><link href="https://ram1123.github.io/blog/2022/VSCode/" rel="alternate" type="text/html" title="VS Code"/><published>2022-04-03T00:00:00+00:00</published><updated>2022-04-03T00:00:00+00:00</updated><id>https://ram1123.github.io/blog/2022/VSCode</id><content type="html" xml:base="https://ram1123.github.io/blog/2022/VSCode/"><![CDATA[<ul id="markdown-toc"> <li><a href="#introduction" id="markdown-toc-introduction">Introduction</a></li> <li><a href="#why-i-switched-from-sublime-to-vscode" id="markdown-toc-why-i-switched-from-sublime-to-vscode">Why I switched from <code class="language-plaintext highlighter-rouge">Sublime</code> to <code class="language-plaintext highlighter-rouge">VSCode</code>?</a></li> <li><a href="#some-important-commands" id="markdown-toc-some-important-commands">Some important commands</a> <ul> <li><a href="#editor" id="markdown-toc-editor">Editor</a></li> <li><a href="#others" id="markdown-toc-others">Others</a></li> </ul> </li> <li><a href="#some-general-issues--its-fix" id="markdown-toc-some-general-issues--its-fix">Some General Issues &amp; Its Fix</a> <ul> <li><a href="#failure-to-connect-to-vs-code-server" id="markdown-toc-failure-to-connect-to-vs-code-server">Failure to connect to VS Code Server</a></li> <li><a href="#failed-to-connect-to-the-remote-extension-host-server-error-websocket-close-with-status-code-1006" id="markdown-toc-failed-to-connect-to-the-remote-extension-host-server-error-websocket-close-with-status-code-1006">failed to connect to the remote extension host server (error websocket close with status code 1006)</a></li> </ul> </li> <li><a href="#useful-script" id="markdown-toc-useful-script">Useful script:</a></li> </ul> <h1 id="introduction">Introduction</h1> <h1 id="why-i-switched-from-sublime-to-vscode">Why I switched from <code class="language-plaintext highlighter-rouge">Sublime</code> to <code class="language-plaintext highlighter-rouge">VSCode</code>?</h1> <h1 id="some-important-commands">Some important commands</h1> <h2 id="editor">Editor</h2> <ol> <li>Select the word where the cursor is: <code class="language-plaintext highlighter-rouge">CMD + D</code></li> <li>Select all occurrences of find match: <code class="language-plaintext highlighter-rouge">CMD + SHIFT + L</code></li> <li>Select all text within the brackets: <code class="language-plaintext highlighter-rouge">CTRL + SHIFT + RIGHT ARROW</code></li> </ol> <h2 id="others">Others</h2> <ol> <li>Quick Open: <code class="language-plaintext highlighter-rouge">CMD + P</code> 1.</li> </ol> <h1 id="some-general-issues--its-fix">Some General Issues &amp; Its Fix</h1> <h2 id="failure-to-connect-to-vs-code-server">Failure to connect to VS Code Server</h2> <p><strong><em>Fix</em></strong>: Remove the <code class="language-plaintext highlighter-rouge">/home/&lt;USER&gt;/.vscode-server</code> folder and retry. Then it should work.</p> <p>Reference: <a href="https://github.com/microsoft/vscode-remote-release/issues/3575#issuecomment-690826257">https://github.com/microsoft/vscode-remote-release/issues/3575#issuecomment-690826257</a></p> <h2 id="failed-to-connect-to-the-remote-extension-host-server-error-websocket-close-with-status-code-1006">failed to connect to the remote extension host server (error websocket close with status code 1006)</h2> <p><strong><em>Fix</em></strong>:</p> <ul> <li> <p>In the <code class="language-plaintext highlighter-rouge">.ssh/config</code> file on the REMOTE host add following lines:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  AllowAgentForwarding yes
  AllowTcpForwarding yes
</code></pre></div> </div> </li> </ul> <p>Reference: <a href="https://github.com/microsoft/vscode-remote-release/issues/5352#issuecomment-913228691">https://github.com/microsoft/vscode-remote-release/issues/5352#issuecomment-913228691</a></p> <h1 id="useful-script">Useful script:</h1> <ul> <li><a href="https://raw.githubusercontent.com/Sheridan-Tech/Update_VScode/master/update_vscode.sh">https://raw.githubusercontent.com/Sheridan-Tech/Update_VScode/master/update_vscode.sh</a> <ul> <li>Grabbed from here: <a href="https://github.com/microsoft/vscode-remote-release/issues/2828#issuecomment-675196078">https://github.com/microsoft/vscode-remote-release/issues/2828#issuecomment-675196078</a></li> </ul> </li> </ul>]]></content><author><name></name></author><category term="programming"/><category term="vscode"/></entry><entry><title type="html">PPT with plots in one click</title><link href="https://ram1123.github.io/blog/2018/PPTScript/" rel="alternate" type="text/html" title="PPT with plots in one click"/><published>2018-09-01T00:00:00+00:00</published><updated>2018-09-01T00:00:00+00:00</updated><id>https://ram1123.github.io/blog/2018/PPTScript</id><content type="html" xml:base="https://ram1123.github.io/blog/2018/PPTScript/"><![CDATA[<ul> <li> <p>Do not remove this line (it will not be displayed)</p> </li> <li> <p>Git clone the script</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/ram1123/PPT_script.git
</code></pre></div> </div> </li> <li> <p>Above command will create a directory named PPT_Script</p> </li> <li> <p>Put all of your plot file in this directory.</p> <ul> <li>Please name the plots as you want the title of the slide, just put different words together by underscore(_). Because the name of file will become the heading of slide replacing underscore (_) by spaces.</li> </ul> </li> <li> <p>Now Run the command ./MakePPT.sh</p> </li> <li> <p>But by default the script will take only *.pdf files only</p> </li> <li> <p>If you want to use any other format then use -f option of the script</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./MakePPT.sh <span class="nt">-f</span> jpg
<span class="c">#or</span>
./MakePPT.sh <span class="nt">-f</span> jpeg
</code></pre></div> </div> </li> <li> <p>Also by default it will make a pdf file named <strong>ppt_test.pdf</strong></p> </li> <li> <p>If you want to get any other name then you can use -n option of the script</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./MakePPT.sh <span class="nt">-n</span> ram
</code></pre></div> </div> </li> <li> <p>Then it will create output pdf file with name <strong>ram.pdf</strong></p> </li> <li> <p>If you want to do both things at a time, i.e. change the file format to recognize and name of output file then you can use both option like</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./MakePPT.sh <span class="nt">-f</span> jpeg <span class="nt">-n</span> ram
</code></pre></div> </div> </li> <li> <p>You May Get error if you don’t have compiler pdflatex or other dependencies that is necessary for the beamer to make ppt.</p> </li> <li> <p>If you face any problem then you can post your problem on the link:<a href="https://github.com/ram1123/PPT_script/issues">https://github.com/ram1123/PPT_script/issues</a>. I will try to resolve the problem as soon as possible.</p> </li> </ul>]]></content><author><name></name></author><category term="scripts"/><category term="ppt-script"/><summary type="html"><![CDATA[Do not remove this line (it will not be displayed)]]></summary></entry><entry><title type="html">Terminal multiplexer (screen/tmux)</title><link href="https://ram1123.github.io/blog/2018/Screen-Command/" rel="alternate" type="text/html" title="Terminal multiplexer (screen/tmux)"/><published>2018-09-01T00:00:00+00:00</published><updated>2018-09-01T00:00:00+00:00</updated><id>https://ram1123.github.io/blog/2018/Screen-Command</id><content type="html" xml:base="https://ram1123.github.io/blog/2018/Screen-Command/"><![CDATA[<ul> <li>Do not remove this line (it will not be displayed)</li> </ul> <p>A terminal multiplexer is a software tool that allows multiple terminal sessions to run within a single terminal window, or within a single instance of a terminal emulator. Terminal multiplexers provide a way to manage multiple terminal sessions more efficiently, and can be especially useful for users who work with many terminal windows at once, or who need to maintain terminal sessions after disconnecting from a remote server.</p> <p>Some of the features provided by terminal multiplexers include:</p> <ul> <li><code class="language-plaintext highlighter-rouge">Split-screen mode</code>: allows us to divide the terminal window into multiple panes, each running a separate terminal session.</li> <li><code class="language-plaintext highlighter-rouge">Session management</code>: enables us to switch between terminal sessions, or detach from a session and resume it later.</li> <li><code class="language-plaintext highlighter-rouge">Window management</code>: provides a way to organize terminal windows into different workspaces, or tabs, for easy switching between them.</li> <li><code class="language-plaintext highlighter-rouge">Copy-and-paste</code>: allows us to copy and paste text between terminal sessions, or between different applications running on the same machine.</li> </ul> <p>Two popular terminal multiplexers are <code class="language-plaintext highlighter-rouge">screen</code> and <code class="language-plaintext highlighter-rouge">tmux</code>. Both provide similar functionality, and both have their own unique features and customization options. The choice between screen and tmux is largely a matter of personal preference, and both are widely used in the Unix/Linux community.</p> <h1 id="tmux">TMUX</h1> <h2 id="what-is-tmux">What is tmux?</h2> <h2 id="how-to-use">How to use</h2> <ul> <li> <p>To start a new session just type <code class="language-plaintext highlighter-rouge">tmux</code> on terminal:</p> <pre><code class="language-bash=">tmux
</code></pre> <p>you should see a green menu bar at the bottom of terminal. This means that the <code class="language-plaintext highlighter-rouge">tmux</code> session started.</p> </li> <li> <p>To detach the tmux session type:</p> <pre><code class="language-bash=">tmux detach
</code></pre> <p>or, you can also use a short-cut command: press <strong><em>CTRL+b</em></strong> release the two keys and then press <strong><em>d</em></strong>.</p> </li> <li> <p>To attach the tmux session type:</p> <pre><code class="language-bash=">tmux attach
</code></pre> </li> <li> <p>Save log of tmux session:</p> <ul> <li>To go in the command mode of tmux session use <code class="language-plaintext highlighter-rouge">CTRL+b</code>. Then type</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>:pipe-pane <span class="s2">"cat &gt; tmux.log"</span>
</code></pre></div> </div> <p>To turn off the log run:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>:pipe-pane
</code></pre></div> </div> </li> <li> <p>Scroll inside the <code class="language-plaintext highlighter-rouge">tmux</code> session:</p> <ul> <li>Press <code class="language-plaintext highlighter-rouge">CTRL+B</code> then immediately press `[. <ul> <li>Then one can use the normal navigation key to scroll around.</li> </ul> </li> </ul> </li> </ul> <p>Reference:</p> <ol> <li><a href="https://www.linode.com/docs/networking/ssh/persistent-terminal-sessions-with-tmux/">https://www.linode.com/docs/networking/ssh/persistent-terminal-sessions-with-tmux/</a></li> <li><a href="https://hyperpolyglot.org/multiplexers">https://hyperpolyglot.org/multiplexers</a></li> </ol> <h1 id="screen">SCREEN</h1> <h2 id="what-is-screen">What is screen?</h2> <h2 id="how-to-use-screen">How to use screen?</h2> <ul> <li> <p>To create a new screen just type <code class="language-plaintext highlighter-rouge">screen</code> on terminal</p> <pre><code class="language-bash=">$screen
</code></pre> </li> <li> <p>This will open a new screen (say new terminal)</p> </li> <li> <p>Then start working….</p> </li> <li> <p>If you are working on lxplus then you have set set CMSSW environment again after going into screen.</p> </li> <li> <p>If you want to save a log file, i.e., whatever you are doing after type the screen command then instead of simple <code class="language-plaintext highlighter-rouge">screen</code> type <code class="language-plaintext highlighter-rouge">screen -L</code></p> </li> <li> <p>To detach screen</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">(</span>ctrl A<span class="o">)</span>+d
</code></pre></div> </div> </li> <li> <p>To reattach screen</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>screen <span class="nt">-r</span>
</code></pre></div> </div> </li> <li> <p>To leave the screen</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="si">$(</span>ctrl A<span class="si">)</span>+K   <span class="c"># to kill the screen</span>
</code></pre></div> </div> </li> <li> <p>How to scroll</p> <ul> <li>Step 1: Press “Ctrl-A” on the keyboard and press “Esc.”</li> <li>Step 2: Press the “Up” and “Down” arrow keys or the “PgUp” and “PgDn” keys to scroll through previous output.</li> <li>Step 3: Press “Esc” to exit scrollback mode.</li> </ul> </li> <li> <p>Create a screen session and submit job without actually opening the session</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>screen <span class="nt">-dmS</span> &lt;screen name&gt;
screen <span class="nt">-S</span> &lt;screen name&gt; <span class="nt">-X</span> stuff <span class="s1">'&lt;CMD&gt;\n'</span>
</code></pre></div> </div> <p>In last command <code class="language-plaintext highlighter-rouge">\n</code> is important, else it will just write command and wait for pressing <code class="language-plaintext highlighter-rouge">Enter</code>. Reference: <a href="https://serverfault.com/a/243170">https://serverfault.com/a/243170</a></p> </li> </ul> <h2 id="use-screen-command-on-lxplus">Use screen command on lxplus</h2> <p>https://hsf-training.github.io/analysis-essentials/shell-extras/persistent-screen.html</p> <h3 id="old-instructions">Old Instructions</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># log into lxplus</span>
krenew <span class="nt">-b</span> <span class="nt">-t</span> <span class="nt">--</span> screen <span class="nt">-D</span> <span class="nt">-m</span>
screen
</code></pre></div></div> <h1 id="difference-between-tmux-and-screen">Difference between tmux and screen?</h1>]]></content><author><name></name></author><category term="bash"/><category term="linux"/><category term="shell-programming"/><category term="screen"/><category term="tmux"/><summary type="html"><![CDATA[Do not remove this line (it will not be displayed)]]></summary></entry><entry><title type="html">LPC Account Setting</title><link href="https://ram1123.github.io/blog/2018/LPC-Account-Settings/" rel="alternate" type="text/html" title="LPC Account Setting"/><published>2018-08-30T00:00:00+00:00</published><updated>2018-08-30T00:00:00+00:00</updated><id>https://ram1123.github.io/blog/2018/LPC-Account-Settings</id><content type="html" xml:base="https://ram1123.github.io/blog/2018/LPC-Account-Settings/"><![CDATA[<ul> <li>Do not remove this line (it will not be displayed)</li> </ul> <h1 id="switch-to-bash-shell">Switch to bash shell</h1> <p>Reference: e-mail by <code class="language-plaintext highlighter-rouge">Dr. Marguerite Tonjes</code> dated August 30, 2018 on <code class="language-plaintext highlighter-rouge">lpc-howto</code>.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Many users choose to have bash as their default shell (tsch is the current default on the CMS LPC CAF - cmslpc machines.)

1) find out what shell you have right now:
echo $0

Or find your default shell with: finger username

2) Change your shell (you may wish to do this as changing shell by hand fails to pick up the EOS aliases):
https://uscms.org/uscms_at_work/computing/setup/setup_software.shtml#shell

3) When you change your default shell you don't have the nice command line information. To do that, add the following to your ~/.bash_profile file on the cluster:
source /etc/bashrc

4) In your next login you will have a nicer formatted command line telling you [username@machine directory]$

5) Note we put that in the ~/.bash_profile because that's executed only upon Login before you get the command line. That way it doesn't affect bash scripts.

6) You may also wish to add this to your ~/.bash_profile to setup the CMS environment so you can use "cmsenv":
source /cvmfs/cms.cern.ch/cmsset_default.sh
</code></pre></div></div> <h1 id="perl-warning-while-cmsenv">perl warning while cmsenv</h1> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>perl: warning: Setting locale failed.
perl: warning: Please check that your locale settings:
    LANGUAGE <span class="o">=</span> <span class="o">(</span><span class="nb">unset</span><span class="o">)</span>,
    LC_ALL <span class="o">=</span> <span class="o">(</span><span class="nb">unset</span><span class="o">)</span>,
    LC_CTYPE <span class="o">=</span> <span class="s2">"UTF-8"</span>,
    LANG <span class="o">=</span> <span class="s2">"C"</span>
    are supported and installed on your system.
perl: warning: Falling back to the standard locale <span class="o">(</span><span class="s2">"C"</span><span class="o">)</span><span class="nb">.</span>
</code></pre></div></div> <p>To fix this, run the following command in your local laptop terminal:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">LC_CTYPE</span><span class="o">=</span>en_US.UTF-8
</code></pre></div></div> <p>You can add this into your <code class="language-plaintext highlighter-rouge">.bash_profile</code> file so that this runs every time you open your terminal.</p> <p>Reference: <a href="https://medium.com/@ejoebstl/fix-broken-utf-8-fonts-in-ssh-after-upgrading-to-high-sierra-931a7c828f2">Fix broken UTF-8 fonts in SSH after upgrading to High Sierra</a></p> <h1 id="prevent-ssh-from-disconnecting">Prevent SSH from disconnecting</h1> <p>Because of firewall or load-balancer the ssh session drops after being in ideal state for some time. To prevent this, one can configure the session to keepalive, which will prevent the the network device to consider it as ideal.</p> <p>There are two methods. First method:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh <span class="nt">-o</span> <span class="s2">"ServerAliveInterval 60"</span> &lt;SERVER_ADDRESS&gt;
</code></pre></div></div> <p>Second method: If one wants to keep all the ssh session alive then the keepalive information can be passed to the <code class="language-plaintext highlighter-rouge">.ssh/config</code> file. For this add</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ServerAliveInterval 60
</code></pre></div></div> <p>this line in file <code class="language-plaintext highlighter-rouge">/etc/ssh/ssh_config</code> or <code class="language-plaintext highlighter-rouge">~/.ssh/config</code>.</p> <p>Reference: <a href="https://superuser.com/questions/699676/how-to-prevent-ssh-from-disconnecting-if-its-been-idle-for-a-while">https://superuser.com/questions/699676/how-to-prevent-ssh-from-disconnecting-if-its-been-idle-for-a-while</a></p>]]></content><author><name></name></author><category term="grid"/><category term="lpc"/><category term="cluster"/><category term="settings"/><summary type="html"><![CDATA[Do not remove this line (it will not be displayed)]]></summary></entry><entry><title type="html">RooFit (Things that I used)</title><link href="https://ram1123.github.io/blog/2018/RooFit/" rel="alternate" type="text/html" title="RooFit (Things that I used)"/><published>2018-08-21T00:00:00+00:00</published><updated>2018-08-21T00:00:00+00:00</updated><id>https://ram1123.github.io/blog/2018/RooFit</id><content type="html" xml:base="https://ram1123.github.io/blog/2018/RooFit/"><![CDATA[<ul> <li>Do not remove this line (it will not be displayed)</li> </ul> <h1 id="couple-of-small-scripts-that-i-used">couple of small scripts that I used</h1> <ol> <li>Compare the two workspaces: <a href="https://gist.github.com/ram1123/88233943beb031b63265417b9b93c6ce">https://gist.github.com/ram1123/88233943beb031b63265417b9b93c6ce</a></li> <li>Read workspace: <a href="https://gist.github.com/ram1123/847d079cef00e503e884ed65aa9a8c58">https://gist.github.com/ram1123/847d079cef00e503e884ed65aa9a8c58</a></li> <li>Get integral of RooRealVar: <a href="https://gist.github.com/ram1123/f6fce437307cce7b3fba2b25a3c9cc02">https://gist.github.com/ram1123/f6fce437307cce7b3fba2b25a3c9cc02</a></li> <li>Read histo from ROOT file and fit using RooFit: <a href="https://gist.github.com/ram1123/42e5e95952f13abbe5d5e3adc65d7315">https://gist.github.com/ram1123/42e5e95952f13abbe5d5e3adc65d7315</a></li> </ol> <h1 id="some-nice-references">Some nice references</h1> <ol> <li>RooStatsWorkbook (gitbook): <a href="https://roostatsworkbook.readthedocs.io/en/latest/introduction.html">https://roostatsworkbook.readthedocs.io/en/latest/introduction.html</a> 2.</li> </ol> <h1 id="calculate-chi2ndf">Calculate Chi2/ndf</h1> <h2 id="method-1--using-roofit-function-chisquare">Method 1 : (Using RooFit function chiSquare)</h2> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Double_t</span> <span class="nf">chiSquare</span><span class="p">(</span><span class="kt">int</span> <span class="n">nFitParam</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="p">;</span>
<span class="n">Double_t</span> <span class="n">chiSquare</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">pdfname</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">histname</span><span class="p">,</span> <span class="kt">int</span> <span class="n">nFitParam</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="k">const</span> <span class="p">;</span>
</code></pre></div></div> <ul> <li> <p><strong>RooPlot::chiSquare()</strong> gives us the <strong>chi2/dof</strong>.</p> </li> <li> <p>We can also provide the number of floating parameters if the curve is the result of the fit.</p> </li> <li> <p>If we have multiple curve or dataset then the chi2 is calculated from the last added dataset and curve. Or we can add explicitly the names of the curve and histogram in the RooPlot we would like to compare.</p> </li> <li> <p>Plot and histogram names are automatically chosen (do e.g. RooPlot::print()), but you can also choose them yourself by adding a Name(“blah”) argument to each plotOn call.</p> </li> </ul> <p>Reference:</p> <ol> <li><a href="https://root-forum.cern.ch/t/how-to-obtain-fit-goodness-in-roofit/8199/2?u=ramkrishna">https://root-forum.cern.ch/t/how-to-obtain-fit-goodness-in-roofit/8199/2?u=ramkrishna</a></li> </ol> <h2 id="method-2-using-th1-method-chi2test">Method 2: (Using TH1 method Chi2Test)</h2> <p>Reference: <a href="https://root.cern.ch/doc/master/classTH1.html#a6c281eebc0c0a848e7a0d620425090a5">link</a></p> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Double_t</span> <span class="n">TH1</span><span class="o">::</span><span class="n">Chi2Test</span>  <span class="p">(</span>   <span class="k">const</span> <span class="n">TH1</span> <span class="o">*</span>     <span class="n">h2</span><span class="p">,</span>
<span class="n">Option_t</span> <span class="o">*</span>  <span class="n">option</span> <span class="o">=</span> <span class="s">"UU"</span><span class="p">,</span>
<span class="n">Double_t</span> <span class="o">*</span>  <span class="n">res</span> <span class="o">=</span> <span class="mi">0</span>
<span class="p">)</span>       <span class="k">const</span>
</code></pre></div></div> <ul> <li>calculate chi2/ndf like this:</li> </ul> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code>      <span class="n">chi2ndf</span>  <span class="o">=</span> <span class="n">hData</span><span class="o">-&gt;</span><span class="n">Chi2Test</span><span class="p">(</span><span class="n">hPdf</span><span class="p">,</span><span class="s">"CHI2/NDFUW"</span><span class="p">);</span>
</code></pre></div></div> <p>Reference: <a href="https://github.com/MiT-HEP/MitEwk13TeV/blob/master/SignalExtraction/fitWm.C#L1901">link</a></p> <h1 id="plotting-components-of-composite-pdfs">plotting components of composite p.d.f.s</h1> <p>Reference: <a href="https://root.cern.ch/root/html/tutorials/roofit/rf205_compplot.C.html">https://root.cern.ch/root/html/tutorials/roofit/rf205_compplot.C.html</a></p>]]></content><author><name></name></author><category term="programming"/><category term="root"/><category term="roofit"/><summary type="html"><![CDATA[Do not remove this line (it will not be displayed)]]></summary></entry><entry><title type="html">CMS Grid Certificate</title><link href="https://ram1123.github.io/blog/2018/CMS-Grid-Certificate/" rel="alternate" type="text/html" title="CMS Grid Certificate"/><published>2018-08-17T00:00:00+00:00</published><updated>2018-08-17T00:00:00+00:00</updated><id>https://ram1123.github.io/blog/2018/CMS-Grid-Certificate</id><content type="html" xml:base="https://ram1123.github.io/blog/2018/CMS-Grid-Certificate/"><![CDATA[<ul> <li>Do not remove this line (it will not be displayed)</li> </ul> <h1 id="grid-certificate-installation">Grid Certificate Installation</h1> <ul> <li> <p>Get new grid certificate from link : <a href="https://ca.cern.ch/ca/">https://ca.cern.ch/ca/</a></p> </li> <li> <p>Backup certificate from FireFox/safari and name it as cert.p12.</p> <ul> <li>You can see this step here: <a href="https://ca.cern.ch/ca/Help/?kbid=040111">https://ca.cern.ch/ca/Help/?kbid=040111</a></li> <li>For mac safari: <a href="https://ca.cern.ch/ca/Help/?kbid=060111&amp;mode=print">https://ca.cern.ch/ca/Help/?kbid=060111&amp;mode=print</a></li> </ul> </li> <li> <p>Copy file <code class="language-plaintext highlighter-rouge">cert.p12</code> on lxplus (or lpc) home directory.</p> </li> <li> <p>To create the .pem files from the .p12 certicicate, and set the correct permissions. Go to lxplus and run following commands:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir</span> <span class="nv">$HOME</span>/.globus
openssl pkcs12 <span class="nt">-in</span> cert.p12 <span class="nt">-clcerts</span> <span class="nt">-nokeys</span> <span class="nt">-out</span> <span class="nv">$HOME</span>/.globus/usercert.pem
openssl pkcs12 <span class="nt">-in</span> cert.p12 <span class="nt">-nocerts</span> <span class="nt">-out</span> <span class="nv">$HOME</span>/.globus/userkey.pem
<span class="nb">chmod </span>400 <span class="nv">$HOME</span>/.globus/userkey.pem
<span class="nb">chmod </span>600 <span class="nv">$HOME</span>/.globus/usercert.pem
<span class="nb">chmod </span>go-rx <span class="nv">$HOME</span>/.globus
fs setacl <span class="nt">-dir</span> <span class="nv">$HOME</span>/.globus <span class="nt">-acl</span> system:anyuser l   <span class="c"># this command will work on lxplus  only</span>
</code></pre></div> </div> </li> <li> <p>Test the setup using:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>voms-proxy-init <span class="nt">-voms</span> cms
voms-proxy-info <span class="nt">-all</span>
</code></pre></div> </div> </li> </ul> <h1 id="check-when-is-your-certificate-expiring-from-lxplus-terminal">Check when is your certificate expiring (From lxplus terminal)</h1> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>openssl x509  <span class="nt">-subject</span> <span class="nt">-dates</span> <span class="nt">-noout</span>  <span class="nt">-in</span> <span class="nv">$HOME</span>/.globus/usercert.pem
</code></pre></div></div> <h1 id="computing-at-lpc">computing at LPC</h1> <p>Link: <a href="https://lpc.fnal.gov/computing/">https://lpc.fnal.gov/computing/</a></p> <h1 id="change-the-default-shell-at-lpc">Change the default shell at lpc:</h1> <p>Reference: <a href="http://uscms.org/uscms_at_work/computing/setup/setup_software.shtml#shell">http://uscms.org/uscms_at_work/computing/setup/setup_software.shtml#shell</a></p>]]></content><author><name></name></author><category term="grid"/><category term="cern"/><category term="cms"/><category term="grid"/><summary type="html"><![CDATA[Do not remove this line (it will not be displayed)]]></summary></entry><entry><title type="html">rename multiple files</title><link href="https://ram1123.github.io/blog/2018/rename-command/" rel="alternate" type="text/html" title="rename multiple files"/><published>2018-07-30T00:00:00+00:00</published><updated>2018-07-30T00:00:00+00:00</updated><id>https://ram1123.github.io/blog/2018/rename-command</id><content type="html" xml:base="https://ram1123.github.io/blog/2018/rename-command/"><![CDATA[<ul> <li>Do not remove this line (it will not be displayed)</li> </ul> <hr/> <h1 id="rename-command">rename command</h1> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    rename searchWord replaceWord  &lt;InputFile&gt;
</code></pre></div></div> <hr/> <h1 id="rename-files-using-move-command-in-for-loop">rename files using move command in for loop</h1> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="k">for </span>file <span class="k">in </span>File<span class="k">*</span>.dat
    <span class="k">do
        </span><span class="nb">mv</span> <span class="nt">-i</span> <span class="s2">"</span><span class="k">${</span><span class="nv">file</span><span class="k">}</span><span class="s2">"</span> <span class="s2">"</span><span class="k">${</span><span class="nv">file</span><span class="p">/SearchWord/ReplacementWord</span><span class="k">}</span><span class="s2">"</span>
        <span class="c"># Here -i option will ask everytime for replacing name.</span>
    <span class="k">done</span>
</code></pre></div></div>]]></content><author><name></name></author><category term="bash"/><category term="linux"/><category term="shell-programming"/><category term="rename"/><summary type="html"><![CDATA[Do not remove this line (it will not be displayed)]]></summary></entry><entry><title type="html">MadGraph</title><link href="https://ram1123.github.io/blog/2018/MadGraph/" rel="alternate" type="text/html" title="MadGraph"/><published>2018-07-26T00:00:00+00:00</published><updated>2018-07-26T00:00:00+00:00</updated><id>https://ram1123.github.io/blog/2018/MadGraph</id><content type="html" xml:base="https://ram1123.github.io/blog/2018/MadGraph/"><![CDATA[<ul> <li>Do not remove this line (it will not be displayed)</li> </ul> <h1 id="general">General</h1> <ul> <li>Total number of events is the “sum of <code class="language-plaintext highlighter-rouge">genWeights</code>”, in case of weighted samples (like madgraph, which have positive and negative weights) or sum of processed events in the other cases.</li> <li>weight cross section weight, scaled for 1/fb. It uses the xsec value in the tree, and it is computed as xsec[fb] * genWeight / sum(genWeights)</li> </ul> <h1 id="madgraph">Madgraph</h1> <ol> <li>Model link: <a href="https://cms-project-generators.web.cern.ch/cms-project-generators/">https://cms-project-generators.web.cern.ch/cms-project-generators/</a></li> <li>Twiki: <a href="https://twiki.cern.ch/twiki/bin/view/Main/GenerationOfLheUsingMadgraph">https://twiki.cern.ch/twiki/bin/view/Main/GenerationOfLheUsingMadgraph</a></li> <li>Official archive of madgraph tutorials: <a href="https://cp3.irmp.ucl.ac.be/projects/madgraph/wiki/MGTutorial">https://cp3.irmp.ucl.ac.be/projects/madgraph/wiki/MGTutorial</a></li> <li>FxFx Merging with madgraph: <a href="http://amcatnlo.web.cern.ch/amcatnlo/FxFx_merging.htm">http://amcatnlo.web.cern.ch/amcatnlo/FxFx_merging.htm</a></li> <li>The Higgs Characterisation model: <a href="http://feynrules.irmp.ucl.ac.be/wiki/HiggsCharacterisation#no1">http://feynrules.irmp.ucl.ac.be/wiki/HiggsCharacterisation#no1</a></li> </ol> <h1 id="gridpack">Gridpack?</h1> <p>Ref: <a href="https://cp3.irmp.ucl.ac.be/projects/madgraph/wiki/IntroGrid">https://cp3.irmp.ucl.ac.be/projects/madgraph/wiki/IntroGrid</a></p> <h1 id="reweight">Reweight?</h1> <p>Ref: <a href="https://cp3.irmp.ucl.ac.be/projects/madgraph/wiki/Reweight">https://cp3.irmp.ucl.ac.be/projects/madgraph/wiki/Reweight</a></p> <h1 id="anomalous-gauge-coupling-model">Anomalous Gauge Coupling model</h1> <p>Ref: <a href="http://feynrules.irmp.ucl.ac.be/wiki/AnomalousGaugeCoupling">http://feynrules.irmp.ucl.ac.be/wiki/AnomalousGaugeCoupling</a></p> <h1 id="merge-lhe-file">Merge LHE file</h1> <p>Reference: <a href="https://twiki.cern.ch/twiki/bin/view/CMSPublic/SWGuideSubgroupMC#1_2_Using_pLHE_campaigns">https://twiki.cern.ch/twiki/bin/view/CMSPublic/SWGuideSubgroupMC#1_2_Using_pLHE_campaigns</a></p> <p>Link of c++ code:</p> <ul> <li><a href="https://twiki.cern.ch/twiki/pub/CMSPublic/SWGuideSubgroupMC/mergeLheFiles.cpp">https://twiki.cern.ch/twiki/pub/CMSPublic/SWGuideSubgroupMC/mergeLheFiles.cpp</a> or,</li> <li><a href="https://github.com/cms-sw/genproductions/blob/8e1725388083b6fe25b84bf238950f73f932fcbb/bin/MadGraph5_aMCatNLO/cards/production/13TeV/WpWm_POL/WpWm_LL/mergeLheFiles.cpp">https://github.com/cms-sw/genproductions/blob/8e1725388083b6fe25b84bf238950f73f932fcbb/bin/MadGraph5_aMCatNLO/cards/production/13TeV/WpWm_POL/WpWm_LL/mergeLheFiles.cpp</a></li> </ul> <p>** Instruction for use:**</p> <p>modify the following line defining the output merged file:</p> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="n">std</span><span class="o">::</span><span class="n">ofstream</span> <span class="nf">outFile</span><span class="p">(</span><span class="s">"/tmp/covarell/out.lhe"</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">ios</span><span class="o">::</span><span class="n">out</span><span class="p">);</span>
</code></pre></div></div> <p>perform the following actions:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    g++ <span class="nt">-Wall</span> <span class="nt">-o</span> mergeLheFiles mergeLheFiles.cpp
    <span class="nb">ls </span>tempdir/<span class="k">*</span>.lhe <span class="o">&gt;</span> laMiaLista
    ./mergeLheFiles laMiaLista
</code></pre></div></div> <p>Now, we will get a single LHE file called <strong>out.lhe</strong>.</p> <h1 id="others">others</h1> <ol> <li> <p><strong>why we specify a minimum QCD and a maximum QED order in madgraph?</strong></p> <p>Ref: https://answers.launchpad.net/mg5amcnlo/+question/234568</p> <ul> <li>By default MadGraph takes the lowest order in QED, i.e. QED = 0</li> <li>If we specify an order (QED/QCD) this is always a maximal value.</li> <li>If we did not specify any order, then MadGraph chose the oder which has the less QED order by default since this is, in most of the cases, the most important contribution (i.e. the other contribution are below the theoretical/statistical error).</li> </ul> </li> </ol>]]></content><author><name></name></author><category term="mc-generators"/><category term="monte-carlo"/><category term="madgraph"/><summary type="html"><![CDATA[Do not remove this line (it will not be displayed)]]></summary></entry><entry><title type="html">EOS uses</title><link href="https://ram1123.github.io/blog/2018/CERN-EOS-Access/" rel="alternate" type="text/html" title="EOS uses"/><published>2018-07-26T00:00:00+00:00</published><updated>2018-07-26T00:00:00+00:00</updated><id>https://ram1123.github.io/blog/2018/CERN-EOS-Access</id><content type="html" xml:base="https://ram1123.github.io/blog/2018/CERN-EOS-Access/"><![CDATA[<ul> <li>Do not remove this line (it will not be displayed)</li> </ul> <h1 id="open-a-file-from-eos">Open a file from EOS</h1> <p>To open a file we must specify the redirector to find the file. This redirector depends on our region, to minimize the distance over which the data must travel and thus minimizing the reading latency.</p> <ul> <li> <p>If working in US: <strong><code class="language-plaintext highlighter-rouge">root://cmsxrootd.fnal.gov//</code></strong></p> </li> <li> <p>if working in Europe and Asia: <strong><code class="language-plaintext highlighter-rouge">root://xrootd-cms.infn.it//</code></strong></p> </li> <li> <p>global redirector: <strong><code class="language-plaintext highlighter-rouge">root://cms-xrd-global.cern.ch//</code></strong></p> </li> <li> <p>Redirector for CERNBOX eos: <strong><code class="language-plaintext highlighter-rouge">root://eosuser.cern.ch//eos/user/&lt;UserNameInitial/&lt;UserName&gt;/</code></strong></p> </li> <li> <p>Open a file using ROOT: If you are using bare ROOT, you can open files in the xrootd service just like you would any other file:</p> </li> </ul> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">TFile</span> <span class="o">*</span><span class="n">f</span> <span class="o">=</span><span class="n">TFile</span><span class="o">::</span><span class="n">Open</span><span class="p">(</span><span class="s">"root://cmsxrootd.fnal.gov///store/mc/SAM/GenericTTbar/GEN-SIM-RECO/CMSSW_5_3_1_START53_V5-v1/0013/CE4D66EB-5AAE-E111-96D6-003048D37524.root"</span><span class="p">);</span>
</code></pre></div></div> <p><strong>BEWARE:</strong> Do not use the apparently equivalent syntax, which is known not to work :</p> <pre><code class="language-c+++">TFile("root://cmsxrootd.fnal.gov//store/foo/bar")
</code></pre> <h2 id="open-a-file-in-condor-batch-or-cern-batch-jobs">Open a file in condor batch or CERN batch jobs</h2> <h3 id="condor-jobs">Condor Jobs</h3> <p>If one wants to use local condor batch to analyze user/group skims located at remote sites. The only modification needed is adding:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>use_x509userproxy <span class="o">=</span> <span class="nb">true</span>
</code></pre></div></div> <p>in your condor jdl file (the file which defines universe, Executable, etc..).</p> <p><strong>Remember</strong>: Before submitting the jobs you must have a valid grid proxy. For this run the command:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>voms-proxy-init <span class="nt">--voms</span> cms <span class="nt">--valid</span> 168:00
</code></pre></div></div> <p>Output of above command contains your valid grid proxy. Condor will pass this information to the working node of the condor batch.</p> <h3 id="cern-batch-jobs">CERN Batch Jobs</h3> <p>Jobs submitted to the CERN batch farm will look for a valid grid proxy in the location pointed to by the environment variable $X509_USER_PROXY. (If $X509_USER_PROXY is not set, Xrootd looks for the proxy in the default location in /tmp.)</p> <p>To make your proxy available to the lxbatch jobs, first copy your proxy to an area in afs, for example your home directory:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cp</span> /tmp/x509up_uXXXX  /afs/cern.ch/user/u/username/
</code></pre></div></div> <p>If you are submitting a job with <strong><code class="language-plaintext highlighter-rouge">bsub myscript.sh</code></strong>, then in <strong><code class="language-plaintext highlighter-rouge">myscript.sh</code></strong>, set this environment variable:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">X509_USER_PROXY</span><span class="o">=</span>/afs/cern.ch/user/u/username/x509up_uXXXX
</code></pre></div></div> <p>Reference: <a href="https://twiki.cern.ch/twiki/bin/view/CMSPublic/WorkBookXrootdService">https://twiki.cern.ch/twiki/bin/view/CMSPublic/WorkBookXrootdService</a></p> <h2 id="fnal-eos-some-useful-commands">FNAL EOS (some useful commands)</h2> <p>Ref: http://uscms.org/uscms_at_work/computing/LPC/usingEOSAtLPC.shtml</p> <ul> <li> <p>Check personal quota: <strong><code class="language-plaintext highlighter-rouge">eosquota</code></strong></p> </li> <li> <p>Check group quota: <strong><code class="language-plaintext highlighter-rouge">eosgrpquota lnujj</code></strong></p> </li> <li> <p>Reading from from FNAL eos: <strong><code class="language-plaintext highlighter-rouge">root://cmseos.fnal.gov//store/</code></strong></p> </li> </ul> <h1 id="disk-quota-info">Disk Quota Info</h1> <h2 id="lpc">LPC</h2> <ul> <li>EOS quota per user: 2 TB</li> <li>nobackup area (<code class="language-plaintext highlighter-rouge">/uscms/home/&lt;userName&gt;/nobackup</code>): 100 GB/user</li> <li>home area (<code class="language-plaintext highlighter-rouge">/uscms/home/&lt;userName&gt;</code>) = 2 GB/user</li> <li>Space without quota for 3 day life time <code class="language-plaintext highlighter-rouge">/uscmst1b_scratch/lpc1/3DayLifetime/&lt;username&gt;</code>. As the name suggest data will be deleted automatically after 3 days.</li> <li>Checking quota: <code class="language-plaintext highlighter-rouge">quota -s</code></li> <li>Checking eos quota; <code class="language-plaintext highlighter-rouge">eosquota</code></li> <li>Checking eos group quota: <code class="language-plaintext highlighter-rouge">eosgrpquota &lt;groupName&gt;</code></li> <li>Checking if a user have write access or not; <code class="language-plaintext highlighter-rouge">getent group | grep ^lnujj</code></li> </ul> <h2 id="lxplus">LXPLUS</h2> <ul> <li>work area: 100 GB/user (max)</li> <li>check quota using: <code class="language-plaintext highlighter-rouge">fs listquota</code></li> <li>check eos quota: <code class="language-plaintext highlighter-rouge">eos quota -p &lt;EOSPath&gt;</code> For example: <code class="language-plaintext highlighter-rouge">eos quota -p /eos/cms/store/group/phys_egamma</code></li> </ul> <p>Reference:</p> <ul> <li><a href="http://uscms.org/uscms_at_work/computing/setup/diskusage.shtml">http://uscms.org/uscms_at_work/computing/setup/diskusage.shtml</a></li> <li>Lxplus commands: <a href="https://twiki.cern.ch/twiki/bin/view/Main/HowtoUseLxplus">https://twiki.cern.ch/twiki/bin/view/Main/HowtoUseLxplus</a></li> <li>Computing at LPC: <a href="http://lpc.fnal.gov/computing/index.shtml">http://lpc.fnal.gov/computing/index.shtml</a></li> </ul> <h1 id="ufl-grid-uses">UFL Grid uses</h1> <ul> <li>Login: <code class="language-plaintext highlighter-rouge">ssh &lt;userName&gt;@melrose.ihepa.ufl.edu</code> <ul> <li>Other domain names: <code class="language-plaintext highlighter-rouge">gainesville.ihepa.ufl.edu</code> or <code class="language-plaintext highlighter-rouge">archer.ihepa.ufl.edu</code></li> </ul> </li> <li>Home area: <code class="language-plaintext highlighter-rouge">/home/&lt;userName&gt;</code> <ul> <li>10 Gb per user</li> </ul> </li> <li>Working area: <code class="language-plaintext highlighter-rouge">/raid/raid9/</code> <ul> <li>more space then home area.</li> </ul> </li> <li>Webpage is also available <ul> <li>To setup: <ul> <li>create a directory named: <code class="language-plaintext highlighter-rouge">public_html</code> under <code class="language-plaintext highlighter-rouge">/home/&lt;userName&gt;</code></li> <li>put the PHP file from <a href="https://ram1123.github.io/assets/webpage_helper/index.php">here</a> under the created directory named <code class="language-plaintext highlighter-rouge">public_html</code>.</li> <li>You can browse your webpage from here: <code class="language-plaintext highlighter-rouge">http://tier2.ihepa.ufl.edu/~&lt;YourUserName&gt;/</code></li> </ul> </li> </ul> </li> </ul> <h1 id="tifr-account-details">TIFR account details</h1> <ul> <li> <p>Log in into TIFR account: <strong><code class="language-plaintext highlighter-rouge">ssh -X &lt;username&gt;@ui.indiacms.res.in</code></strong></p> </li> <li> <p>path of LFN : <strong><code class="language-plaintext highlighter-rouge">/store/user/username</code></strong></p> </li> <li> <p>To access LFN type this command: <strong><code class="language-plaintext highlighter-rouge">$voms-proxy-init --voms cms </code></strong></p> </li> <li> <p>To change password type: <strong><code class="language-plaintext highlighter-rouge">$passwd</code></strong></p> </li> <li> <p>Site Name for crab jobs: <strong><code class="language-plaintext highlighter-rouge">T2_IN_TIFR</code></strong></p> </li> <li> <p>To List the files do: <strong><code class="language-plaintext highlighter-rouge">$rfdir /dpm/indiacms.res.in/home/cms/store/user/&lt;userName&gt;</code></strong></p> </li> <li> <p>To delete files <strong><code class="language-plaintext highlighter-rouge">$rfrm path/of/store/</code></strong></p> </li> <li> <p>For sotring data use T3 space whose path is <strong><code class="language-plaintext highlighter-rouge">/home/&lt;userName&gt;/t3store</code></strong></p> </li> <li> <p>Path of T2 directory: <strong><code class="language-plaintext highlighter-rouge">/dpm/indiacms.res.in/home/cms/store/user/&lt;userName&gt;</code></strong></p> </li> <li> <p>in CRAB jobs if you white-list <strong><code class="language-plaintext highlighter-rouge">T2_IN_TIFR</code></strong> for stageout then crab3 will automatically write at that location. stageout location will be <strong><code class="language-plaintext highlighter-rouge">/store/user/rasharma</code></strong></p> </li> <li> <p>To copy file from ui to lxplus:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>xrdcp root://se01.indiacms.res.in//store/user/&lt;userName&gt;/Path_of_file /localpath
</code></pre></div> </div> </li> <li> <p>To open file at uiwith root in lxplus:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>root <span class="nt">-l</span> root://se01.indiacms.res.in//store/user/rchawla/DrellYan-Analysis/DYToEE_M-800_CT10_TuneZ2star_8TeV-powheg-pythia6/crab_DrellYan-Analysis/150511_195346/0000/DYEE_M800_8TeV_AOD_1.root
</code></pre></div> </div> </li> </ul> <h1 id="some-eos-related-useful-commands">Some EOS related useful commands</h1> <ul> <li> <p>Copy file from eos to local area: <strong><code class="language-plaintext highlighter-rouge">eos cp /eos/cms/store/user/&lt;UserName&gt;/test.root &lt;Path_Local&gt;</code></strong></p> </li> <li> <p>copy recursive the complete hierarchy in a directory: <strong><code class="language-plaintext highlighter-rouge">eos cp -r /eos/cms/store/&lt;Path_of_file&gt; &lt;outputpath&gt;</code></strong></p> </li> <li> <p>Find all file under eos directory: <strong><code class="language-plaintext highlighter-rouge">eos find -f /eos/cms/user/t/test</code></strong></p> </li> <li> <p>Find all directory under eos : <strong><code class="language-plaintext highlighter-rouge">eos find -d /eos/cms/user/t/test</code></strong></p> </li> <li> <p>Find command on eos: <strong><code class="language-plaintext highlighter-rouge">eos root://cmseos.fnal.gov find</code></strong></p> </li> <li> <p>Use cernbox: there is an xrootd cernbox endpoint:</p> <p><a href="https://cern.service-now.com/service-portal/article.do?n=KB0001998#your-cernbox-files">https://cern.service-now.com/service-portal/article.do?n=KB0001998#your-cernbox-files</a></p> <p>in practice, something like</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>root://eosuser.cern.ch//eos/user/l/laman
</code></pre></div> </div> </li> </ul> <h1 id="some-scripts">Some Scripts</h1> <h2 id="copy-files-from-eos-to-present-working-directory-pwd">copy files from eos to present working directory (pwd)</h2> <p><strong>For tcsh shell</strong></p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/usr/bin/env tcsh</span>
foreach file <span class="o">(</span> &lt;store-Path&gt;<span class="k">*</span>.root <span class="o">)</span>
    xrdcp <span class="nt">-f</span> <span class="nv">$file</span> <span class="nb">.</span>
end
</code></pre></div></div> <h2 id="command-to-check-file-size-and-file-number">Command To check file size and file number</h2> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>find <span class="nb">.</span> <span class="nt">-maxdepth</span> 1 <span class="nt">-type</span> d <span class="nt">-print0</span> | xargs <span class="nt">-0</span> <span class="nt">-I</span> <span class="o">{}</span> sh <span class="nt">-c</span> <span class="s1">'echo  $(find "{}" -printf "\n" | wc -l) "{}"'</span> | <span class="nb">sort</span> <span class="nt">-n</span> <span class="nt">-r</span>
</code></pre></div></div> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Here,
    "." =&gt; Preset working directory
    "-maxdepth 1 " =&gt; Show only for directories in PWD
    "-type d" =&gt; Show only for directories
</code></pre></div></div> <h3 id="check-file-size">Check file size</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">du</span> <span class="nt">-h</span> <span class="nt">--max-depth</span><span class="o">=</span>1 <span class="nb">.</span> | <span class="nb">sort</span> <span class="nt">-n</span> <span class="nt">-r</span>
</code></pre></div></div> <p>Reference:</p> <ol> <li><a href="https://stackoverflow.com/questions/9157138/recursively-counting-files-in-a-linux-directory/26458853#26458853">https://stackoverflow.com/questions/9157138/recursively-counting-files-in-a-linux-directory/26458853#26458853</a></li> <li><a href="http://www.ducea.com/2006/05/14/tip-how-to-sort-folders-by-size-with-one-command-line-in-linux/">http://www.ducea.com/2006/05/14/tip-how-to-sort-folders-by-size-with-one-command-line-in-linux/</a></li> </ol>]]></content><author><name></name></author><category term="grid"/><category term="eos"/><category term="cern"/><category term="cms"/><category term="condor"/><category term="lpc"/><summary type="html"><![CDATA[Do not remove this line (it will not be displayed)]]></summary></entry><entry><title type="html">Different Configuration File Formats</title><link href="https://ram1123.github.io/blog/2018/ConfigFileFormat-Python/" rel="alternate" type="text/html" title="Different Configuration File Formats"/><published>2018-07-20T00:00:00+00:00</published><updated>2018-07-20T00:00:00+00:00</updated><id>https://ram1123.github.io/blog/2018/ConfigFileFormat-Python</id><content type="html" xml:base="https://ram1123.github.io/blog/2018/ConfigFileFormat-Python/"><![CDATA[<ul> <li>Do not remove this line (it will not be displayed)</li> </ul> <p>We need configuration file for arranging and using many information in a nice way. There are many configuration file formats like yaml, ini, etc.</p> <h1 id="yaml-file-format">yaml file format</h1> <p>yaml [<a href="http://www.yaml.org/spec/history/2001-12-10.html">1</a>] stands for “yet another markup language”. It stores messages in terms of lists and dictionaries. It is optimized for data serialization, configuration settings, log files, etc.</p> <p>Data can be stored in two types or the combination of these two types. They are:</p> <ol> <li>sequences, and</li> <li>mapping.</li> </ol> <p>Sequence referes to :</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  - Ram
  - Krishna
  - sharma
</code></pre></div></div> <p>And mapping refers to:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  FirstName: Ram
  SecondName: Krishna
  LastName: sharma
</code></pre></div></div> <p>There are many ways we can combine these two:</p> <p><strong>mapping to sequences</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Name:
 - Ram krishna sharma
 - Archana Kumari
 - Test1
 - Test2
Test:
 - Test3
 - Test4
 - Test5
</code></pre></div></div> <p><strong>sequences to mapping</strong></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>-
  Name: Ram krishna sharma
  sex: Male
  age: 29
-
  Name: Archana Kumari
  sex: Female
  age: 28
</code></pre></div></div> <h1 id="read-yaml-file">Read yaml file</h1> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">yaml</span>

<span class="nb">file</span> <span class="o">=</span> <span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">yamlfile.yml</span><span class="sh">"</span><span class="p">,</span><span class="sh">"</span><span class="s">r</span><span class="sh">"</span><span class="p">)</span>
<span class="n">ymload</span> <span class="o">=</span> <span class="n">yaml</span><span class="p">.</span><span class="nf">load</span><span class="p">(</span><span class="nb">file</span><span class="p">)</span>
<span class="nb">file</span><span class="p">.</span><span class="nf">close</span><span class="p">()</span>

<span class="k">for</span> <span class="n">sections</span> <span class="ow">in</span> <span class="n">ymload</span><span class="p">:</span>
  <span class="k">print</span> <span class="n">sections</span>
  <span class="k">print</span> <span class="n">ymload</span><span class="p">[</span><span class="n">sections</span><span class="p">]</span>
</code></pre></div></div>]]></content><author><name></name></author><category term="programming"/><category term="python"/><category term="yaml"/><summary type="html"><![CDATA[Do not remove this line (it will not be displayed)]]></summary></entry></feed>