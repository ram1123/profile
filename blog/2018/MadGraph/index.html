<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> MadGraph | Ram Krishna Sharma </title> <meta name="author" content="Ram Krishna Sharma"> <meta name="description" content="A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design. "> <meta name="keywords" content="academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://ram1123.github.io/blog/2018/MadGraph/"> <script src="/assets/js/theme.js?a5ca4084d3b81624bcfa01156dae2b8e"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Ram</span> Krishna Sharma </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item "> <a class="nav-link" href="/teaching/">teaching </a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">submenus </a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item " href="/publications/">publications</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/projects/">projects</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/blog/">blog</a> </div> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">MadGraph</h1> <p class="post-meta"> July 26, 2018 </p> <p class="post-tags"> <a href="/blog/2018"> <i class="fa-solid fa-calendar fa-sm"></i> 2018 </a>   ·   <a href="/blog/tag/monte-carlo"> <i class="fa-solid fa-hashtag fa-sm"></i> monte-carlo</a>   <a href="/blog/tag/madgraph"> <i class="fa-solid fa-hashtag fa-sm"></i> madgraph</a>     ·   <a href="/blog/category/mc-generators"> <i class="fa-solid fa-tag fa-sm"></i> mc-generators</a>   </p> </header> <article class="post-content"> <div id="markdown-content"> <ul> <li>Do not remove this line (it will not be displayed)</li> </ul> <h1 id="general">General</h1> <ul> <li>Total number of events is the “sum of <code class="language-plaintext highlighter-rouge">genWeights</code>”, in case of weighted samples (like madgraph, which have positive and negative weights) or sum of processed events in the other cases.</li> <li>weight cross section weight, scaled for 1/fb. It uses the xsec value in the tree, and it is computed as xsec[fb] * genWeight / sum(genWeights)</li> </ul> <h1 id="madgraph">Madgraph</h1> <ol> <li>Model link: <a href="https://cms-project-generators.web.cern.ch/cms-project-generators/" rel="external nofollow noopener" target="_blank">https://cms-project-generators.web.cern.ch/cms-project-generators/</a> </li> <li>Twiki: <a href="https://twiki.cern.ch/twiki/bin/view/Main/GenerationOfLheUsingMadgraph" rel="external nofollow noopener" target="_blank">https://twiki.cern.ch/twiki/bin/view/Main/GenerationOfLheUsingMadgraph</a> </li> <li>Official archive of madgraph tutorials: <a href="https://cp3.irmp.ucl.ac.be/projects/madgraph/wiki/MGTutorial" rel="external nofollow noopener" target="_blank">https://cp3.irmp.ucl.ac.be/projects/madgraph/wiki/MGTutorial</a> </li> <li>FxFx Merging with madgraph: <a href="http://amcatnlo.web.cern.ch/amcatnlo/FxFx_merging.htm" rel="external nofollow noopener" target="_blank">http://amcatnlo.web.cern.ch/amcatnlo/FxFx_merging.htm</a> </li> <li>The Higgs Characterisation model: <a href="http://feynrules.irmp.ucl.ac.be/wiki/HiggsCharacterisation#no1" rel="external nofollow noopener" target="_blank">http://feynrules.irmp.ucl.ac.be/wiki/HiggsCharacterisation#no1</a> </li> </ol> <h1 id="gridpack">Gridpack?</h1> <p>Ref: <a href="https://cp3.irmp.ucl.ac.be/projects/madgraph/wiki/IntroGrid" rel="external nofollow noopener" target="_blank">https://cp3.irmp.ucl.ac.be/projects/madgraph/wiki/IntroGrid</a></p> <h1 id="reweight">Reweight?</h1> <p>Ref: <a href="https://cp3.irmp.ucl.ac.be/projects/madgraph/wiki/Reweight" rel="external nofollow noopener" target="_blank">https://cp3.irmp.ucl.ac.be/projects/madgraph/wiki/Reweight</a></p> <h1 id="anomalous-gauge-coupling-model">Anomalous Gauge Coupling model</h1> <p>Ref: <a href="http://feynrules.irmp.ucl.ac.be/wiki/AnomalousGaugeCoupling" rel="external nofollow noopener" target="_blank">http://feynrules.irmp.ucl.ac.be/wiki/AnomalousGaugeCoupling</a></p> <h1 id="merge-lhe-file">Merge LHE file</h1> <p>Reference: <a href="https://twiki.cern.ch/twiki/bin/view/CMSPublic/SWGuideSubgroupMC#1_2_Using_pLHE_campaigns" rel="external nofollow noopener" target="_blank">https://twiki.cern.ch/twiki/bin/view/CMSPublic/SWGuideSubgroupMC#1_2_Using_pLHE_campaigns</a></p> <p>Link of c++ code:</p> <ul> <li> <a href="https://twiki.cern.ch/twiki/pub/CMSPublic/SWGuideSubgroupMC/mergeLheFiles.cpp" rel="external nofollow noopener" target="_blank">https://twiki.cern.ch/twiki/pub/CMSPublic/SWGuideSubgroupMC/mergeLheFiles.cpp</a> or,</li> <li><a href="https://github.com/cms-sw/genproductions/blob/8e1725388083b6fe25b84bf238950f73f932fcbb/bin/MadGraph5_aMCatNLO/cards/production/13TeV/WpWm_POL/WpWm_LL/mergeLheFiles.cpp" rel="external nofollow noopener" target="_blank">https://github.com/cms-sw/genproductions/blob/8e1725388083b6fe25b84bf238950f73f932fcbb/bin/MadGraph5_aMCatNLO/cards/production/13TeV/WpWm_POL/WpWm_LL/mergeLheFiles.cpp</a></li> </ul> <p>** Instruction for use:**</p> <p>modify the following line defining the output merged file:</p> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="n">std</span><span class="o">::</span><span class="n">ofstream</span> <span class="nf">outFile</span><span class="p">(</span><span class="s">"/tmp/covarell/out.lhe"</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">ios</span><span class="o">::</span><span class="n">out</span><span class="p">);</span>
</code></pre></div></div> <p>perform the following actions:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    g++ <span class="nt">-Wall</span> <span class="nt">-o</span> mergeLheFiles mergeLheFiles.cpp
    <span class="nb">ls </span>tempdir/<span class="k">*</span>.lhe <span class="o">&gt;</span> laMiaLista
    ./mergeLheFiles laMiaLista
</code></pre></div></div> <p>Now, we will get a single LHE file called <strong>out.lhe</strong>.</p> <h1 id="others">others</h1> <ol> <li> <p><strong>why we specify a minimum QCD and a maximum QED order in madgraph?</strong></p> <p>Ref: https://answers.launchpad.net/mg5amcnlo/+question/234568</p> <ul> <li>By default MadGraph takes the lowest order in QED, i.e. QED = 0</li> <li>If we specify an order (QED/QCD) this is always a maximal value.</li> <li>If we did not specify any order, then MadGraph chose the oder which has the less QED order by default since this is, in most of the cases, the most important contribution (i.e. the other contribution are below the theoretical/statistical error).</li> </ul> </li> </ol> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2018/vi-editor/">Vi-Editor</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2022/CMSAN_GitWorkflow/">GitLab workflow for CMS-AN</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2018/sed/">sed command</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2018/Condor-Jobs/">Condor Jobs</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2018/git/">Git CheatSheet</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2019/GridPack-Generation/">GridPack Generation</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2019/XDAQ-Basics/">XDAQ Basics</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2018/awk/">awk command</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2018/ROOT-CheatSheet/">ROOT CheatSheet</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2018/find/">find command</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2019/random-physics-points/">Random Physics Points</a> </li> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2024 Ram Krishna Sharma. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Last updated: April 22, 2024. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?b7816bd189846d29eded8745f9c4cf77"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.min.js"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>