<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> sed command | Ram Krishna Sharma </title> <meta name="author" content="Ram Krishna Sharma"> <meta name="description" content="A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design. "> <meta name="keywords" content="academic-website, portfolio-website"> <meta property="og:site_name" content="Ram Krishna Sharma"> <meta property="og:type" content="article"> <meta property="og:title" content="Ram Krishna Sharma | sed command"> <meta property="og:url" content="https://ram1123.github.io/blog/2018/sed/"> <meta property="og:description" content="A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design. "> <meta property="og:locale" content="en"> <meta name="twitter:card" content="summary"> <meta name="twitter:title" content="sed command"> <meta name="twitter:description" content="A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design. "> <script type="application/ld+json">
    {
        "author":
        {
            "@type": "Person",
            "name": "Ram Krishna Sharma"
        },
        "url": "https://ram1123.github.io/blog/2018/sed/",
        "@type": "BlogPosting",
        "description": "A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design.
",
        "headline": "sed command",
        
        "sameAs": ["https://orcid.org/0000-0003-1181-1426", "https://scholar.google.com/citations?user=QZ2KRiEAAAAJ", "https://www.scopus.com/authid/detail.uri?authorId=35565265100", "https://github.com/ram1123", "https://www.linkedin.com/in/ram-krishna-sharma", "https://gitlab.com/rasharma"],
        
        "name": "Ram Krishna Sharma",
        "@context": "https://schema.org"
    }
  </script> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://ram1123.github.io/blog/2018/sed/"> <script src="/assets/js/theme.js?a5ca4084d3b81624bcfa01156dae2b8e"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Ram</span> Krishna Sharma </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item "> <a class="nav-link" href="/teaching/">teaching </a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">submenus </a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item " href="/publications/">publications</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/projects/">projects</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/blog/">blog</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/blog/tag/">tags</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/blog/category/">category</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/talk/">talk</a> </div> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">sed command</h1> <p class="post-meta"> May 24, 2018 </p> <p class="post-tags"> <a href="/blog/2018"> <i class="fa-solid fa-calendar fa-sm"></i> 2018 </a>   ·   <a href="/blog/tag/sed"> <i class="fa-solid fa-hashtag fa-sm"></i> sed</a>     ·   <a href="/blog/category/bash"> <i class="fa-solid fa-tag fa-sm"></i> bash</a>   <a href="/blog/category/shell-programming"> <i class="fa-solid fa-tag fa-sm"></i> shell-programming</a>   </p> </header> <article class="post-content"> <div id="markdown-content"> <h1 class="no_toc" id="table-of-contents">Table of Contents</h1> <ul id="markdown-toc"> <li><a href="#introduction" id="markdown-toc-introduction">Introduction</a></li> <li><a href="#several-commands-that-i-used" id="markdown-toc-several-commands-that-i-used">Several commands that I used</a></li> </ul> <hr> <h1 id="introduction">Introduction</h1> <p><code class="language-plaintext highlighter-rouge">sed</code> is a Unix <em>stream editor</em><sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote" rel="footnote">1</a></sup> that performs basic text transformations on an input stream (a file or input from a pipeline). It can perform operations such as search and replace, insertion and deletion, and more, on individual lines of a file or a range of lines specified in the input. The results are then written to the output stream, which can be redirected to a file, to another command in a pipeline, or to the terminal.</p> <p>The general syntax for sed command:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sed</span> <span class="o">[</span>options] <span class="s1">'command'</span> input-file
</code></pre></div></div> <ul> <li> <code class="language-plaintext highlighter-rouge">options</code>: Optional flags that modify the behavior of the <code class="language-plaintext highlighter-rouge">sed</code> command. Some common options include <code class="language-plaintext highlighter-rouge">-n</code> for suppressing default output, <code class="language-plaintext highlighter-rouge">-e</code> for executing multiple commands, and <code class="language-plaintext highlighter-rouge">-i</code> for performing in-place editing of files.</li> <li> <code class="language-plaintext highlighter-rouge">command</code>: A single or a set of commands that specify the transformations to be applied to the input stream. Commands must be enclosed in single quotes (<code class="language-plaintext highlighter-rouge">''</code>) to prevent shell expansion.</li> <li> <code class="language-plaintext highlighter-rouge">input-file</code>: The input file or files to be processed by <code class="language-plaintext highlighter-rouge">sed</code>. If no file is specified, <code class="language-plaintext highlighter-rouge">sed</code> will read from the standard input stream.</li> </ul> <p>For example, the following command will replace all occurrences of the word “apple” with “orange” in the file fruits.txt:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sed</span> <span class="s1">'s/apple/orange/g'</span> fruits.txt
</code></pre></div></div> <h1 id="several-commands-that-i-used">Several commands that I used</h1> <ul> <li> <p>To edit file in place use option <code class="language-plaintext highlighter-rouge">-i</code> with sed.</p> </li> <li> <p>Backup and edit input file in-place use option <code class="language-plaintext highlighter-rouge">-i.bkp</code> with sed.</p> </li> <li> <p>Replace a string in multiple files</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nb">sed</span> <span class="nt">-i</span> <span class="s1">'s/foo/bar/g'</span> <span class="k">*</span>.dat
</code></pre></div> </div> <p>This will replace word “foo” to “bar” in all *.dat files present in PWD.</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nb">sed</span> <span class="nt">-i</span> <span class="s1">'Ns/foo/bar/g'</span> <span class="k">*</span>.dat
</code></pre></div> </div> <p>Here N is the Nth line of the text file. This command will find “foo” in Nth line of text fine and replace with “bar”. This is not going to check any other line except Nth line.</p> <p>To use <strong>variables</strong> in the sed command <code class="language-plaintext highlighter-rouge">use double quotes</code></p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nb">sed</span> <span class="nt">-i</span> <span class="s2">"s/</span><span class="nv">$var1</span><span class="s2">/ZZ/g"</span> <span class="s2">"</span><span class="nv">$file</span><span class="s2">"</span>
</code></pre></div> </div> <p>Reference: <a href="https://askubuntu.com/a/76842" rel="external nofollow noopener" target="_blank">https://askubuntu.com/a/76842</a></p> </li> <li> <p>Replace several character from a string</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nb">echo </span>ramkrishna | <span class="nb">sed</span> <span class="s1">'s/ram//g'</span>
</code></pre></div> </div> <p>or if want to replace several character from string, then</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nb">echo</span> <span class="s2">"ram&gt; krishna &lt;Shar,ma"</span> | <span class="nb">sed</span> <span class="s1">'s/[&lt;&gt;,]//g'</span>
</code></pre></div> </div> <p>The above command will remove &gt; or &lt; or , from the string.</p> </li> <li> <p>Show first line number 1-20 in a text file</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nb">sed</span> <span class="nt">-n</span> 1,10p FileName.txt
</code></pre></div> </div> </li> <li> <p>Append a line after text match</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nb">sed</span> <span class="s1">'/&lt;search-pattern&gt;/a &lt;Text-To-Append&gt;'</span> FileName.dat
</code></pre></div> </div> </li> <li> <p>Append a line before text match</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nb">sed</span> <span class="s1">'/&lt;search-pattern&gt;/i &lt;Text-To-Append&gt;'</span> FileName.dat
</code></pre></div> </div> <p>Example:</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cat test

</span>foo
bar
option
baz
</code></pre></div> </div> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nb">sed</span> <span class="s1">'/option/a insert text here'</span> <span class="nb">test</span>
</code></pre></div> </div> <p><strong>Output</strong></p> <div class="language-plaintext highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>foo
bar
option
insert text here
baz
</code></pre></div> </div> <p>Ref: https://unix.stackexchange.com/questions/121161/how-to-insert-text-after-a-certain-string-in-a-file</p> </li> <li> <p>Remove line of text from multiple files</p> <div class="language-sh highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nb">sed</span> <span class="s1">'/line of text/d'</span> <span class="k">*</span>.txt
</code></pre></div> </div> <p>If you want to edit in place use option <code class="language-plaintext highlighter-rouge">-i</code> (edit in place). Or if you want to keep backup of old file then use <code class="language-plaintext highlighter-rouge">-i.bak</code> flag. If not simply put it in a bash loop:</p> <div class="language-sh highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="k">for </span>file <span class="k">in</span> <span class="si">$(</span><span class="nb">ls</span> <span class="k">*</span>.txt<span class="si">)</span>
<span class="k">do
    </span><span class="nb">sed</span> <span class="s1">'/line of text/d'</span> <span class="nv">$file</span> <span class="o">&gt;</span> <span class="nv">$file</span>.new_file.txt
<span class="k">done</span>
</code></pre></div> </div> <p>Ref: https://stackoverflow.com/questions/1182756/remove-line-of-text-from-multiple-files-in-linux</p> </li> <li> <p>Copy part of file to another file</p> <div class="language-sh highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nb">sed</span> <span class="nt">-n</span> 16,80p file1 <span class="o">&gt;</span> new_file
</code></pre></div> </div> </li> <li> <p>Add prefix/suffix to the begining of each line</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nb">sed</span> <span class="nt">-i</span> <span class="nt">-e</span> <span class="s1">'s/^/prefix/'</span> file1     <span class="c"># ^ stands for the begining of line</span>
<span class="nb">sed</span> <span class="nt">-i</span> <span class="s1">'s/$/:80/'</span> file.txt        <span class="c"># $ stands for the end of line</span>
</code></pre></div> </div> </li> </ul> <div class="footnotes" role="doc-endnotes"> <ol> <li id="fn:1" role="doc-endnote"> <p>A “stream editor” is a type of text editor that operates on a stream of text data, rather than on an entire file. In the case of sed, the text stream is processed one line at a time, and the transformations are applied to each line as it is read. The transformed lines are then output to another stream, which can be redirected to a file, to another command in a pipeline, or to the terminal. The stream-based approach allows sed to be used for processing large amounts of data efficiently, as it does not need to load the entire file into memory. <a href="#fnref:1" class="reversefootnote" role="doc-backlink">↩</a></p> </li> </ol> </div> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2018/vi-editor/">Vi-Editor</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2018/awk/">awk command</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2018/grep/">Grep command</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2022/CMSAN_GitWorkflow/">GitLab workflow for CMS-AN</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2018/Condor-Jobs/">Condor Jobs</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2018/find/">find command</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2018/CERN-EOS-Access/">EOS uses</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2018/Mac-Settings/">Mac Settings</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2018/git/">Git CheatSheet</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2018/ROOT-CheatSheet/">ROOT CheatSheet</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2018/Screen-Command/">Terminal multiplexer (screen/tmux)</a> </li> <div id="giscus_thread" style="max-width: 800px; margin: 0 auto;"> <script>let giscusTheme=determineComputedTheme(),giscusAttributes={src:"https://giscus.app/client.js","data-repo":"ram1123/ram1123.github.io","data-repo-id":"R_kgDOLv844Q","data-category":"Comments","data-category-id":"DIC_kwDOLv844c4Ce2wf","data-mapping":"pathname","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":giscusTheme,"data-lang":"en",crossorigin:"anonymous",async:""},giscusScript=document.createElement("script");Object.entries(giscusAttributes).forEach(([t,e])=>giscusScript.setAttribute(t,e)),document.getElementById("giscus_thread").appendChild(giscusScript);</script> <noscript>Please enable JavaScript to view the <a href="http://giscus.app/?ref_noscript" rel="external nofollow noopener" target="_blank">comments powered by giscus.</a> </noscript> </div> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2024 Ram Krishna Sharma. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Last updated: June 11, 2024. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?b7816bd189846d29eded8745f9c4cf77"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.min.js"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>