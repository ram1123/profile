<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> GitLab workflow for CMS-AN | Ram Krishna Sharma </title> <meta name="author" content="Ram Krishna Sharma"> <meta name="description" content="A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design. "> <meta name="keywords" content="academic-website, portfolio-website"> <meta property="og:site_name" content="Ram Krishna Sharma"> <meta property="og:type" content="article"> <meta property="og:title" content="Ram Krishna Sharma | GitLab workflow for CMS-AN"> <meta property="og:url" content="https://ram1123.github.io/blog/2022/CMSAN_GitWorkflow/"> <meta property="og:description" content="A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design. "> <meta property="og:locale" content="en"> <meta name="twitter:card" content="summary"> <meta name="twitter:title" content="GitLab workflow for CMS-AN"> <meta name="twitter:description" content="A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design. "> <script type="application/ld+json">
    {
        "author":
        {
            "@type": "Person",
            "name": "Ram Krishna Sharma"
        },
        "url": "https://ram1123.github.io/blog/2022/CMSAN_GitWorkflow/",
        "@type": "BlogPosting",
        "description": "A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design.
",
        "headline": "GitLab workflow for CMS-AN",
        
        "sameAs": ["https://orcid.org/0000-0003-1181-1426", "https://scholar.google.com/citations?user=QZ2KRiEAAAAJ", "https://www.scopus.com/authid/detail.uri?authorId=35565265100", "https://github.com/ram1123", "https://www.linkedin.com/in/ram-krishna-sharma", "https://gitlab.com/rasharma"],
        
        "name": "Ram Krishna Sharma",
        "@context": "https://schema.org"
    }
  </script> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://ram1123.github.io/blog/2022/CMSAN_GitWorkflow/"> <script src="/assets/js/theme.js?a5ca4084d3b81624bcfa01156dae2b8e"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Ram</span> Krishna Sharma </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">Talk </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="nav-item active"> <a class="nav-link" href="/">Talk <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item "> <a class="nav-link" href="/teaching/">teaching </a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">submenus </a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item " href="/publications/">publications</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/projects/">projects</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/blog/">blog</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/blog/tag/">tags</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/blog/category/">category</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/talk/">talk</a> </div> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">GitLab workflow for CMS-AN</h1> <p class="post-meta"> September 05, 2022 </p> <p class="post-tags"> <a href="/blog/2022"> <i class="fa-solid fa-calendar fa-sm"></i> 2022 </a>   ·   <a href="/blog/tag/gitlab"> <i class="fa-solid fa-hashtag fa-sm"></i> gitlab</a>   <a href="/blog/tag/cms-an"> <i class="fa-solid fa-hashtag fa-sm"></i> cms-AN</a>     ·   <a href="/blog/category/git"> <i class="fa-solid fa-tag fa-sm"></i> git</a>   </p> </header> <article class="post-content"> <div id="markdown-content"> <h1 class="no_toc" id="table-of-contents">Table of Contents</h1> <ul id="markdown-toc"> <li><a href="#summary-of-workflow" id="markdown-toc-summary-of-workflow">Summary of Workflow</a></li> <li><a href="#detailed-workflow" id="markdown-toc-detailed-workflow">Detailed workflow</a></li> <li><a href="#commands-summary" id="markdown-toc-commands-summary">Commands Summary</a></li> <li><a href="#some-known-issues--their-fixes" id="markdown-toc-some-known-issues--their-fixes">Some known issues &amp; their fixes</a></li> <li> <a href="#gitlab-anpaper-clone-steps" id="markdown-toc-gitlab-anpaper-clone-steps">Gitlab AN/Paper clone steps</a> <ul> <li><a href="#setup-commands" id="markdown-toc-setup-commands">Setup Commands</a></li> <li><a href="#other-commands" id="markdown-toc-other-commands">Other Commands</a></li> </ul> </li> </ul> <hr> <p>A gitlab workflow for analysis is given in this blog. This is a general git workflow, summarised in terms of CMS-AN.</p> <h1 id="summary-of-workflow">Summary of Workflow</h1> <ol> <li>Fork the repository under your gitlab account.</li> <li>Clone the repository using your username and setup as per the instruction given in Section-<a href="#gitlab-anpaper-clone-steps">Gitlab AN setup</a> </li> <li>Checkout new branch (<code class="language-plaintext highlighter-rouge">git checkout -b &lt;BranchName&gt;</code>) and start working. You can commit frequently and save changes.</li> <li> <p>When you are ready with all your changes and think it should be merged in the central repository. Then do the following:</p> <ul> <li> <p>First update your local from <code class="language-plaintext highlighter-rouge">master</code> branch of our central repository.</p> </li> <li> <p>Then commit your changs and make the <strong>merge request</strong> to our central repository.</p> </li> </ul> </li> <li>Done.</li> </ol> <h1 id="detailed-workflow">Detailed workflow</h1> <p></p> <ol> <li> <p>Fork the repository from the central repository: <a href="https://gitlab.cern.ch/tdr/notes/AN-20-165" rel="external nofollow noopener" target="_blank">https://gitlab.cern.ch/tdr/notes/AN-20-165</a></p> <ul> <li> <p>Click on <code class="language-plaintext highlighter-rouge">Fork</code>, as shown in image below:</p> <p><img src="https://ram1123.github.io/assets/CMS_AN_GitLabWorkFlow/fork_1.png" alt=""></p> </li> <li> <p>If you are attached with another organization then it may show you page as shown below then click on your name:</p> <blockquote> <p><img src="https://ram1123.github.io/assets/CMS_AN_GitLabWorkFlow/fork_2.png" alt="fork_2"></p> </blockquote> </li> </ul> </li> <li> <p>Now, one can see the repository into your gitlab account: <code class="language-plaintext highlighter-rouge">https://gitlab.cern.ch/users/&lt;LXPLUS-USER-NAME&gt;/projects</code>. Then click on the project named <strong>AN-20-165</strong>.</p> </li> <li> <p>Then copy the SSH link (we need this in <strong>step-5(c)</strong>).</p> <p>a.</p> <blockquote> <p><img src="https://ram1123.github.io/assets/CMS_AN_GitLabWorkFlow/ssh_link_1.png" alt="ssh_link_1"></p> </blockquote> <p>b.</p> <blockquote> <p><img src="https://ram1123.github.io/assets/CMS_AN_GitLabWorkFlow/ssh_link_2.png" alt="ssh_link_2"></p> </blockquote> </li> <li> <p>Clone the repository using the <strong>central repository</strong>:</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>git clone <span class="nt">--recursive</span> ssh://git@gitlab.cern.ch:7999/tdr/notes/AN-20-165.git
</code></pre></div> </div> </li> <li> <p>Next, we need to add remote which will point to our personal repository.</p> <p>a) What is “<strong>remote</strong>” in the above command?</p> <p>When we collaborate on a git project, where many people are working then we might need to get updates from other people repository. So, we need to know the address (or the pointer of the address) to the other repository. The pointer of the repository address is known as remote. Now, there are couple of things that we should know.</p> <p>b) <strong>How to check the remotes?</strong></p> <p>If you already cloned the repository (say <a href="https://gitlab.cern.ch/tdr/notes/AN-20-165" rel="external nofollow noopener" target="_blank">https://gitlab.cern.ch/tdr/notes/AN-20-165</a>) then you can check the remote name using:</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>AN-20-165
git remote <span class="nt">-v</span>
</code></pre></div> </div> <p>Its output should be like this:</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="o">[</span>rasharma@lxplus734 AN-20-165]<span class="nv">$ </span>git remote <span class="nt">-v</span>
 origin  ssh://git@gitlab.cern.ch:7999/tdr/notes/AN-20-165.git <span class="o">(</span>fetch<span class="o">)</span>
 origin  ssh://git@gitlab.cern.ch:7999/tdr/notes/AN-20-165.git <span class="o">(</span>push<span class="o">)</span>
</code></pre></div> </div> <p>Here, the name of your remote is “origin”. If you clone from your personal repository, (say <a href="ssh://git@gitlab.cern.ch:7999/rasharma/AN-20-165.git">ssh://git@gitlab.cern.ch:7999/rasharma/AN-20-165.git</a>), then the origin will point to your repository (<strong>Added this line for information but don’t clone from personal repository, else you won’t get the utils directory by default. It is because of some permission issue.</strong>).</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="o">[</span>rasharma@lxplus734 AN-20-165]<span class="nv">$ </span>git remote <span class="nt">-v</span>
 origin  ssh://git@gitlab.cern.ch:7999/rasharma/AN-20-165.git <span class="o">(</span>fetch<span class="o">)</span>
 origin  ssh://git@gitlab.cern.ch:7999/rasharma/AN-20-165.git <span class="o">(</span>push<span class="o">)</span>
</code></pre></div> </div> <p>c) <strong>How to add new remotes?</strong> If you cloned from the central repository, then you should add your repository remote. To add your remote:</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>AN-20-165
git remote add &lt;ChooseAnyName&gt; ssh://git@gitlab.cern.ch:7999/tdr/notes/AN-20-165.git
</code></pre></div> </div> <p>I am choosing name “myRepo”.</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>AN-20-165
git remote add myRepo ssh://git@gitlab.cern.ch:7999/rasharma/AN-20-165.git
</code></pre></div> </div> <p>Just to confirm if the remote is added or not, please check again the remote usign the command:</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>AN-20-165
git remote <span class="nt">-v</span>
</code></pre></div> </div> <p>Its output should be like this:</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="o">[</span>rasharma@lxplus734 AN-20-165]<span class="nv">$ </span>git remote <span class="nt">-v</span>
 myRepo  ssh://git@gitlab.cern.ch:7999/rasharma/AN-20-165.git <span class="o">(</span>fetch<span class="o">)</span>
 myRepo  ssh://git@gitlab.cern.ch:7999/rasharma/AN-20-165.git <span class="o">(</span>push<span class="o">)</span>
 origin  ssh://git@gitlab.cern.ch:7999/tdr/notes/AN-20-165.git <span class="o">(</span>fetch<span class="o">)</span>
 origin  ssh://git@gitlab.cern.ch:7999/tdr/notes/AN-20-165.git <span class="o">(</span>push<span class="o">)</span>
</code></pre></div> </div> <p>Now you can see that there are two names <strong>myRepo</strong> and <strong>origin</strong>. Both of them are attached to the ssh link. One belongs to my github username and another belongs to our central repository.</p> <p>Once you added your remote you should always use your repository remote name for adding your commits.</p> <p><strong>NOTE:</strong> You should keep both remotes with you (central and yours). Your repository remote for committing your changes and central repository remote to update your local branch with the latest updates added by other people.</p> </li> <li> <p>Branch Creating:</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>AN-20-165
git checkout <span class="nt">-b</span> &lt;NewBranchName&gt;
</code></pre></div> </div> <p>For example I created a branch named <strong>Doc_GitUses</strong>:</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>git checkout <span class="nt">-b</span> Doc_GitUses
</code></pre></div> </div> </li> <li> <p>Check if the branch created using command:</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>git branch
</code></pre></div> </div> <p>Output should look like:</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code><span class="o">[</span>username@lxplus734 AN-20-165]<span class="nv">$ </span>git branch
 <span class="k">*</span> Doc_GitUses
 master
</code></pre></div> </div> <p>Here, “*” shows that the current banch on which you are is <strong>Doc_GitUses</strong>.</p> </li> <li>If you want to change the branch to master then do <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>git checkout master
</code></pre></div> </div> <p>One should not work on master branch so don’t edit here. Go back to the branch you created using <code class="language-plaintext highlighter-rouge">git checkout NewBranchName</code>, then edit on <strong>NewBranchName</strong>.</p> </li> <li> <p>You can commit and push as many times as you want. When you think you are done then you should try to see if anyone else already update anything in master or not. For this you should try to pull the updates from master.</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>git pull &lt;remote-name&gt; master
</code></pre></div> </div> <p><strong>NOTE: Our main repository remote name is “origin”.</strong> So, the command that we should use is</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>git pull origin master
</code></pre></div> </div> </li> <li>When you run the command: <code class="language-plaintext highlighter-rouge">git pull origin master</code> then it will pull the latest changes from master to your local (into your current branch).</li> </ol> <ul> <li> <p>Here you might get the merge conflict. This comes when two people are editing the same file. Then git is unable to decide what to choose.</p> </li> <li> <p>Now, we should open the file having conflicts then resolve it.</p> </li> <li> <p>If you don’t know about it please look at this link: <a href="https://docs.github.com/en/free-pro-team@latest/github/collaborating-with-issues-and-pull-requests/resolving-a-merge-conflict-using-the-command-line" rel="external nofollow noopener" target="_blank">Resolving a merge conflict using the command line</a></p> </li> <li> <p>If you have still an issue then please let me know.</p> </li> </ul> <ol> <li>If the <code class="language-plaintext highlighter-rouge">git pull</code> works without any error or warning then commit and push your changes:</li> </ol> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git commit
</code></pre></div></div> <p>Then this will open the editor, where you can write a summary message of your commit then close the file.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git push &lt;remote-name&gt; &lt;NewBranchName&gt;
</code></pre></div></div> <p>In the previous steps, I took personal repository remote name as <code class="language-plaintext highlighter-rouge">myRepo</code> and NewBranchName as <code class="language-plaintext highlighter-rouge">Doc_GitUses</code>. So, one should use the command:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git push myRepo Doc_GitUses
</code></pre></div></div> <ol> <li>If you think you are ready for making merge request. Then before making merge request always update your local branch from master branch of the central repository. If the central repository given by <strong>origin</strong> :</li> </ol> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">[</span>rasharma@lxplus734 AN-20-165]<span class="nv">$ </span>git remote <span class="nt">-v</span>
   myRepo  ssh://git@gitlab.cern.ch:7999/rasharma/AN-20-165.git <span class="o">(</span>fetch<span class="o">)</span>
   myRepo  ssh://git@gitlab.cern.ch:7999/rasharma/AN-20-165.git <span class="o">(</span>push<span class="o">)</span>
   origin  ssh://git@gitlab.cern.ch:7999/tdr/notes/AN-20-165.git <span class="o">(</span>fetch<span class="o">)</span>
   origin  ssh://git@gitlab.cern.ch:7999/tdr/notes/AN-20-165.git <span class="o">(</span>push<span class="o">)</span>
</code></pre></div></div> <p>Then, you should update your local branch using command:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git pull &lt;remote-name&gt; master
</code></pre></div></div> <p>In the example, that we showed above our central remote name is <strong>origin</strong> so we should run the command: Then, you should update your local branch using command:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git pull origin master
</code></pre></div></div> <ol> <li>Finally, make the merge request from the gitlab webpage as shown below:</li> </ol> <ul> <li>Step-1: <blockquote> <p><img src="https://ram1123.github.io/assets/CMS_AN_GitLabWorkFlow/merge_1.png" alt="merge_1"></p> </blockquote> </li> <li> <p>Step-2: <strong>Here, remember to fill out “Assignee” as @atishelm</strong></p> <blockquote> <p><img src="https://ram1123.github.io/assets/CMS_AN_GitLabWorkFlow/merge_2.png" alt="merge_2"></p> </blockquote> </li> </ul> <h1 id="commands-summary">Commands Summary</h1> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone <span class="nt">--recursive</span> ssh://git@gitlab.cern.ch:7999/tdr/notes/AN-20-165.git  <span class="c"># if you are working on lxplus you should use ssh link</span>
<span class="nb">cd </span>AN-20-165
git remote add myRepo ssh://git@gitlab.cern.ch:7999/&lt;YourUserName&gt;/AN-20-165.git
<span class="c"># Next step create a branch name with the doc \you want to add (say you want to update systematics)</span>
git checkout <span class="nt">-b</span> Doc_Systematics
<span class="c"># Edit files</span>
git add a.tex b.tex <span class="c"># add all the files that you modified</span>
git commit <span class="c"># this opens up the editor add your update summary and close this  file.</span>
git pull origin master <span class="c"># Grab the latest updates from master branch</span>
<span class="c"># you might see some conflict if you and some other people edited the same branch. If yes, then you need to remove conflict and then commit.</span>
git push myRepo Doc_Systematics  <span class="c"># Here myRepo and Doc_Systematics are the names that you assigned above.</span>
<span class="c"># Go to wepage of your github repo and make pull request.</span>
</code></pre></div></div> <h1 id="some-known-issues--their-fixes">Some known issues &amp; their fixes</h1> <ol> <li> <p><strong>Always try to clone from central repository only. i.e. <code class="language-plaintext highlighter-rouge">ssh://git@gitlab.cern.ch:7999/tdr/notes/AN-20-165.git</code>.</strong> There is a known issue of the permission of cloing the utils as submodule. If we clone from central repository then it automatically clones the utils repository. This does not work when we try to clone from our personal (forked) repository.</p> </li> <li> <p>If your ssh key is not properly saved in the gitlab then you may get following error:</p> <blockquote> <p><img src="https://ram1123.github.io/assets/CMS_AN_GitLabWorkFlow/ssh_clone_issue.png" alt="ssh_clone_issue"></p> </blockquote> <p>Generally, all of us work with both github and gitlab. So, we should keep the ssh key same at both places. The above error appears when the key is not matched at lxplus and at gitlab. To fix this issue try to copy the content of file <code class="language-plaintext highlighter-rouge">.ssh/id_rsa.pub</code> from your lxplus. Then add it in your gitlab account settings and save it. Then it should work.</p> <blockquote> <p><img src="https://ram1123.github.io/assets/CMS_AN_GitLabWorkFlow/ssh_key.png" alt="ssh_key"></p> </blockquote> </li> </ol> <h1 id="gitlab-anpaper-clone-steps">Gitlab AN/Paper clone steps</h1> <h2 id="setup-commands">Setup Commands</h2> <p>To clone on lxplus, first move to your desired working area on lxplus and clone the respository:</p> <p>Via HTTPS:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone --recursive https://gitlab.cern.ch/tdr/notes/AN-20-165.git
</code></pre></div></div> <p>Via SSH:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone --recursive ssh://git@gitlab.cern.ch:7999/tdr/notes/AN-20-165.git
</code></pre></div></div> <p><strong>Note:</strong> If you clone via SSH, you will need to set your git user email address in order for your GitLab profile picture to show up on the GitLab.com remote repository next to your commits. This is recommended as it will make it easier to identify who makes commits. This is done in your cloned repository with the command:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config --local user.email "username@cern.ch"
</code></pre></div></div> <p>where “username@cern.ch” should be your CERN e-mail address, as this should be associated with your GitLab account.</p> <p>Via KRB5:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone --recursive https://:@gitlab.cern.ch:8443/tdr/notes/AN-20-165.git
</code></pre></div></div> <p>Note the –recursive option, necessary for the linked “utils” commit to be cloned for the tdr executable.</p> <p>After cloning you should change to the cloned repository directory:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd AN-20-165
</code></pre></div></div> <p>Then run one of the following commands, depending on your shell. I used -sh for bash (Bourne-Again shell) on lxplus by default. This command needs to be run every time you start a new lxplus session:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>eval `utils/tdr runtime -sh` # bash
eval `utils/tdr runtime -csh` # csh
eval `utils/tdr runtime -fish` # fish
</code></pre></div></div> <p>To produce the PDF, run the tdr executable:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tdr --style=note b # the local document with the name of the directory is the default build target
</code></pre></div></div> <p>if this works properly, at the end of the output you should see:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>PDF Output file: /tmp/&lt;lxplusUsername&gt;/tdr_bld_&lt;randomHash&gt;/AN-20-165_temp.pdf
</code></pre></div></div> <p>this is the location of the LaTeX generater PDF of the analysis note. The output should also notify you of any LaTeX compilation errors.</p> <h2 id="other-commands">Other Commands</h2> <p>In case the utils submodule is removed from the repository, it can be added back locally and committed with the commands:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git submodule add -b master ../../utils
git add utils
git commit -m "Adding the latest utils submodule"
</code></pre></div></div> <p>it can also be updated to the latest available version via the commands:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git submodule update --remote
git add utils
git commit -m "Updating to the latest utils commit"
</code></pre></div></div> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2018/git/">Git CheatSheet</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2018/vi-editor/">Vi-Editor</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2018/Condor-Jobs/">Condor Jobs</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2018/CERN-EOS-Access/">EOS uses</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2018/HowToAN-InCMS/">How To AN in CMS</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2018/Mac-Settings/">Mac Settings</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2018/LPC-Account-Settings/">LPC Account Setting</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2018/PPTScript/">PPT with plots in one click</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2018/ROOT-CheatSheet/">ROOT CheatSheet</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2019/XDAQ-Basics/">XDAQ Basics</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2018/sed/">sed command</a> </li> <div id="giscus_thread" style="max-width: 800px; margin: 0 auto;"> <script>let giscusTheme=determineComputedTheme(),giscusAttributes={src:"https://giscus.app/client.js","data-repo":"ram1123/ram1123.github.io","data-repo-id":"R_kgDOLv844Q","data-category":"Comments","data-category-id":"DIC_kwDOLv844c4Ce2wf","data-mapping":"pathname","data-strict":"0","data-reactions-enabled":"1","data-emit-metadata":"0","data-input-position":"bottom","data-theme":giscusTheme,"data-lang":"en",crossorigin:"anonymous",async:""},giscusScript=document.createElement("script");Object.entries(giscusAttributes).forEach(([t,e])=>giscusScript.setAttribute(t,e)),document.getElementById("giscus_thread").appendChild(giscusScript);</script> <noscript>Please enable JavaScript to view the <a href="http://giscus.app/?ref_noscript" rel="external nofollow noopener" target="_blank">comments powered by giscus.</a> </noscript> </div> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2024 Ram Krishna Sharma. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Last updated: May 10, 2024. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?b7816bd189846d29eded8745f9c4cf77"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.min.js"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>